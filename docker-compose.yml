# GENERATED BY generate_grid.py
version: '3.8'
services:
  node_0_0:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_0_0
    networks:
      arena_net:
        ipv4_address: 172.20.0.10
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=0,0
      - VULNERABILITIES=ENV_LEAK,DESERIAL,XXE,IDOR,SSRF,SQLi
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_0_1:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_0_1
    networks:
      arena_net:
        ipv4_address: 172.20.0.11
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=0,1
      - VULNERABILITIES=CORS,AUTH_BYPASS,IDOR,JWT,XXE,SSRF
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_0_2:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_0_2
    networks:
      arena_net:
        ipv4_address: 172.20.0.12
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=0,2
      - VULNERABILITIES=ENV_LEAK,RACE,IDOR
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_0_3:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_0_3
    networks:
      arena_net:
        ipv4_address: 172.20.0.13
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=0,3
      - VULNERABILITIES=RACE,JWT,CORS
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_0_4:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_0_4
    networks:
      arena_net:
        ipv4_address: 172.20.0.14
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=0,4
      - VULNERABILITIES=RACE
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_0_5:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_0_5
    networks:
      arena_net:
        ipv4_address: 172.20.0.15
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=0,5
      - VULNERABILITIES=SSRF
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_1_0:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_1_0
    networks:
      arena_net:
        ipv4_address: 172.20.1.10
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=1,0
      - VULNERABILITIES=AUTH_BYPASS,BUFFER,SQLi,ENV_LEAK,LFI,DESERIAL
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_1_1:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_1_1
    networks:
      arena_net:
        ipv4_address: 172.20.1.11
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=1,1
      - VULNERABILITIES=ENV_LEAK,DESERIAL,XXE
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_1_2:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_1_2
    networks:
      arena_net:
        ipv4_address: 172.20.1.12
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=1,2
      - VULNERABILITIES=CORS,RCE,BUFFER
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_1_3:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_1_3
    networks:
      arena_net:
        ipv4_address: 172.20.1.13
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=1,3
      - VULNERABILITIES=IDOR
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_1_4:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_1_4
    networks:
      arena_net:
        ipv4_address: 172.20.1.14
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=1,4
      - VULNERABILITIES=DESERIAL
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_1_5:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_1_5
    networks:
      arena_net:
        ipv4_address: 172.20.1.15
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=1,5
      - VULNERABILITIES=LFI
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_2_0:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_2_0
    networks:
      arena_net:
        ipv4_address: 172.20.2.10
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=2,0
      - VULNERABILITIES=ENV_LEAK,RCE,AUTH_BYPASS
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_2_1:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_2_1
    networks:
      arena_net:
        ipv4_address: 172.20.2.11
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=2,1
      - VULNERABILITIES=XXE,RACE,RCE
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_2_2:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_2_2
    networks:
      arena_net:
        ipv4_address: 172.20.2.12
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=2,2
      - VULNERABILITIES=RCE
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_2_3:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_2_3
    networks:
      arena_net:
        ipv4_address: 172.20.2.13
    environment:
      - HAS_KEY=true
      - GRID_SIZE=6
      - COORDINATE_KEY=2,3
      - VULNERABILITIES=IDOR
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_2_4:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_2_4
    networks:
      arena_net:
        ipv4_address: 172.20.2.14
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=2,4
      - VULNERABILITIES=LFI
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_2_5:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_2_5
    networks:
      arena_net:
        ipv4_address: 172.20.2.15
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=2,5
      - VULNERABILITIES=SQLi,REDIRECT,CORS
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_3_0:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_3_0
    networks:
      arena_net:
        ipv4_address: 172.20.3.10
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=3,0
      - VULNERABILITIES=XXE,RACE,LFI
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_3_1:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_3_1
    networks:
      arena_net:
        ipv4_address: 172.20.3.11
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=3,1
      - VULNERABILITIES=SQLi
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_3_2:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_3_2
    networks:
      arena_net:
        ipv4_address: 172.20.3.12
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=3,2
      - VULNERABILITIES=RACE
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_3_3:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_3_3
    networks:
      arena_net:
        ipv4_address: 172.20.3.13
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=3,3
      - VULNERABILITIES=REDIRECT
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_3_4:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_3_4
    networks:
      arena_net:
        ipv4_address: 172.20.3.14
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=3,4
      - VULNERABILITIES=AUTH_BYPASS,SQLi,ENV_LEAK
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_3_5:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_3_5
    networks:
      arena_net:
        ipv4_address: 172.20.3.15
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=3,5
      - VULNERABILITIES=AUTH_BYPASS,LFI,RCE
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_4_0:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_4_0
    networks:
      arena_net:
        ipv4_address: 172.20.4.10
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=4,0
      - VULNERABILITIES=CORS
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_4_1:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_4_1
    networks:
      arena_net:
        ipv4_address: 172.20.4.11
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=4,1
      - VULNERABILITIES=RACE
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_4_2:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_4_2
    networks:
      arena_net:
        ipv4_address: 172.20.4.12
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=4,2
      - VULNERABILITIES=REDIRECT
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_4_3:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_4_3
    networks:
      arena_net:
        ipv4_address: 172.20.4.13
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=4,3
      - VULNERABILITIES=RCE,IDOR,AUTH_BYPASS
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_4_4:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_4_4
    networks:
      arena_net:
        ipv4_address: 172.20.4.14
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=4,4
      - VULNERABILITIES=IDOR,RCE,XXE
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_4_5:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_4_5
    networks:
      arena_net:
        ipv4_address: 172.20.4.15
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=4,5
      - VULNERABILITIES=AUTH_BYPASS,REDIRECT,XXE,LFI,SSRF,JWT
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_5_0:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_5_0
    networks:
      arena_net:
        ipv4_address: 172.20.5.10
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=5,0
      - VULNERABILITIES=SSRF
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_5_1:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_5_1
    networks:
      arena_net:
        ipv4_address: 172.20.5.11
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=5,1
      - VULNERABILITIES=AUTH_BYPASS
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_5_2:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_5_2
    networks:
      arena_net:
        ipv4_address: 172.20.5.12
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=5,2
      - VULNERABILITIES=JWT,CORS,DESERIAL
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_5_3:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_5_3
    networks:
      arena_net:
        ipv4_address: 172.20.5.13
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=5,3
      - VULNERABILITIES=AUTH_BYPASS,SSRF,BUFFER
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_5_4:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_5_4
    networks:
      arena_net:
        ipv4_address: 172.20.5.14
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=5,4
      - VULNERABILITIES=SSRF,REDIRECT,ENV_LEAK,SQLi,RCE,DESERIAL
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  node_5_5:
    build:
      context: .
      dockerfile: Dockerfile.node
    container_name: arena_5_5
    networks:
      arena_net:
        ipv4_address: 172.20.5.15
    environment:
      - HAS_KEY=false
      - GRID_SIZE=6
      - COORDINATE_KEY=5,5
      - VULNERABILITIES=SQLi,XXE,IDOR,LFI,ENV_LEAK,DESERIAL
    cap_add:
      - NET_ADMIN
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 256M
  orchestrator:
    build:
      context: ./orchestrator
      dockerfile: Dockerfile
    container_name: arena_orchestrator
    environment:
      - KEY_LOCATION=2,3
      - GRID_SIZE=6
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - 5000:5000
    networks:
      - arena_net
networks:
  arena_net:
    driver: bridge
    ipam:
      config:
        - subnet: 172.20.0.0/16
